<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
          <link rel="stylesheet" href="../../assets/css/new_order.css">

        
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&display=swap" rel="stylesheet">
   
          <title>New Orders</title>
          
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="../../assets/css/sell_footer.css">
<link rel="stylesheet" href="../../assets/css/normalize.css">
<link rel="stylesheet" href="../../assets/css/seller_header.css">
</head>
    <body>
      
        <main>
            <table class="old_order">
                <caption>Your Orders</caption>
                <!-- <tr>
                    <th class="thread">Product Information</th>
                    <th class="thread" id="status">Current Status(In Stock Count)</th>
                    <th class="thread">Sale Rate</th>
                    <th class="thread">Order Status</th>
                </tr>
                <tr>
                    <td><a href="./new_order_detail.html"><img src="../../assets/images/Major nutrients/maj11.avif" alt="last order"></a></td>
                    <td class="td">3,400</td>
                    <td class="td1">RS: 5,53,000</td>
                    <td class="td2">Processing</td>
                </tr>
                <tr>
                    <td><a href="./new_order_detail.html"><img src="../../assets/images/Adama/ada1.avif" alt="second order" ></a></td>
                    <td class="td">780</td>
                    <td class="td1">RS: 2,43,000</td>
                    <td class="td2">Processing</td>
                </tr >
                <tr>
                    <td>  <a href="./new_order_detail.html"><img src="../../assets/images/dow agro/dow1.jpg" alt="first order"></a></td>
                    <td class="td">1655</td>
                    <td class="td1">RS: 4,25,500</td>
                    <td class="td2">Processing</td>
                </tr> -->
            </table>
        </main>
        <footer id="contact">
            <h1>Fert Agri Boomi(FAB)</h1>
           <div class="footer">
         <div class="icon">   
            <img src="../../assets/images/Fert agri.png" alt="logo">
        </div>
           <div class="abt">
            <a href="../user/about_us.html"><h2>About Us</h2> </a>
            <a href="./seller_homepage.html"><h2>Home</h2></a>
           </div>
           </div>
           <div class="bottom">
                <div class="cont">
                    <p>Contact us</p>
                </div>
                <div class="social">
                    <a href="https://www.instagram.com/rp0803/?igshid=YmMyMTA2M2Y%3D" > <img src="../../assets/images/instagram.png" alt="instagram"></a>
                    <a href="https://www.youtube.com/channel/UCufA2FcZ-8DSsbCog424g_g" ><img src="../../assets/images/youtube.webp" alt="youtube"></a>
                    <a href="https://myaccount.google.com/?utm_source=OGB&tab=rk&utm_medium=app"><img src="../../assets/images/mail.jpg" alt="email"></a>
                      <a href="https://twitter.com/agrigoi?lang=en"><img src="../../assets/images/twiter.png" alt="twitter"></a>
                    <a href="https://www.facebook.com/people/Agriculture/100068310005265/" ><img src="../../assets/images/facebook.png" alt="facebook"></a>
                    <a href="#"><img src="../../assets/images/whatsapp.webp" alt="whatsapp"></a>
        
                </div>
            </div>
            </footer>
            <script src="../js/seller_header.js"></script>
            <script>
                let tr_1 = document.createElement("tr");
                document.querySelector(".old_order").append(tr_1);

               // <th class="thread">Product Information</th>
               let th_info = document.createElement("th");
               th_info.setAttribute("class","thread");
               th_info.innerText = "Product Information";
               tr_1.append(th_info);


               let th_status = document.createElement("th");
               th_status.setAttribute("class","thread");
               th_status.setAttribute("id","status");
               th_status.innerText = "Current Status(In Stock Count)";
               tr_1.append(th_status);

               let th_rate = document.createElement("th");
               th_rate.setAttribute("class","thread");
               th_rate.innerText = "Sale Rate";
               tr_1.append(th_rate);

               let th_order = document.createElement("th");
               th_order.setAttribute("class","thread");
               th_order.innerText = "Order Status";
               tr_1.append(th_order);
            
               const newOrder = JSON.parse(localStorage.getItem("sellerDetails"))
            //    const status = "true"
            // const newOrder = newOrderStatus.filter(details=> details.orderStatus == status)
      
               for(let i = 0; i < newOrder.length ; i++) {
                
               let tr_2 = document.createElement("tr");
                document.querySelector(".old_order").append(tr_2);


                // order table start from here
                let td_image = document.createElement("td");
                tr_2.append(td_image);

                let td_a = document.createElement("a");
               td_a.setAttribute("href","./new_order_detail.html?orderDetailsFind=" + newOrder[i]["orderId"])
               td_image.append(td_a);

               let order_image = document.createElement("img");
               order_image.setAttribute("src",newOrder[i]["imageInput"]);
               order_image.setAttribute("alt",newOrder[i]["productNameInput"]);
               td_a.append(order_image);

               let td_1 = document.createElement("td");
               td_1.setAttribute("class","td");
               td_1.innerText =  newOrder[i]["stockCountInput"]
                tr_2.append(td_1);

                const sellingPrice = newOrder[i]["sellingInput"];
                const stockCount = newOrder[i]["stockCountInput"];
                const totalSaleRate = sellingPrice * stockCount;

                let td_2 = document.createElement("td");
               td_2.setAttribute("class","td1");
               td_2.innerText = totalSaleRate.toLocaleString('en-IN');
                tr_2.append(td_2);

                let td_3 = document.createElement("td");
               td_3.setAttribute("class","td2");
               td_3.innerText = newOrder[i]["orderDeliveryStatus"]
                tr_2.append(td_3);
                

                const orderDate = new Date().toLocaleDateString();
            
             const deliveryDate = newOrder[i]["deliveryDate"];
             if(deliveryDate == orderDate){
                newOrder[i].orderDeliveryStatus = "Processing";
                localStorage.setItem("sellerDetails", JSON.stringify(newOrder));
               }


            }



          


            </script>
    
    </body>
    
    </html>