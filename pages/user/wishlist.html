<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" /><link rel="icon" type="image/x-icon" href="../../assets/images/icon.png">
   
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&display=swap" rel="stylesheet">
   
        <link rel="stylesheet" href="../../assets/css/style.css">
        <link rel="stylesheet" href="../../assets/css/footer.css">
        <link rel="stylesheet" href="../../assets/css/header.css">
        <link rel="stylesheet" href="../../assets/css/wishlist.css">
    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <title>Fert agri Boomi</title>
    </head>

<body>
    
    <main>
        <img id="empty-wishlist" src="https://cdni.iconscout.com/illustration/premium/thumb/empty-cart-2130356-1800917.png" alt="wishlist image">
        <div class="wishlist">
            <!-- <h2 id="collection">My collections<i id="win" class="fa fa-heart" style="font-size:35px"></i></i></h2> -->
            <!-- <div class="fertilizer">
                <div  class="fert1">
                    <a href="./dhanu1.html"><img src="../../assets/images/dhanuka/dhan1.jpg" alt="SEMPRA HERBICIDE"></a>
                 </div>
                 <div class="fert2">
                    <div class="product_details">
                        <a href="./dhanu1.html"><p>SEMPRA HERBICIDE</p></a>
                    <div class="pro_price">
                        <h2>---</h2>
                        <h3>....</h3>
                    </div>
                     <div class="you_save">
                        <h2>---</h2>
                     </div>
                     </div>

                    <a href="../user/user_interface.html"><button class="remov">Remove</button></a>
                 </div>
            </div> -->
            
        </div>
    </main>
    <footer>
        <div class="footer1">
            <div class="img101">
                <img src="../../assets/images/Fert agri.png" alt="logo">
            </div>
            <div class="about111">
                    <div  class="quick" >
                        <h2>QUICK LINKS</h2>
                    <p> <a href="./about_us.html">ABOUT US</a></p>
                    <p> <a href="./wishlist.html">WISHLIST</a></p>
                    <p> <a href="./offers.html">OFFERS</a></p>
                    <p> <a href="./user_interface.html">HOME</a></p>
                    </div>
                <div  class="quick" >
                        <h2>BRANDS</h2>
                        <p><a href="./dhanuka.html">DHANUKA</a></p>
                    <p>  <a href="./dow_agro.html">DOW AGRO SCIENCE</a></p>
                        <p><a href="./upl.html">UPL</a></p>
                    <p>  <a href="./tata.html"> TATA RALLIS</a></p>
                        <p><a href="./adama.html">ADAMA</a></p>
                        <p><a href="./bayer.html">BAYER</a></p>
                </div>
                <div  class="quick" >
                        <h2>CROP PROTECTION</h2>
                    <p><a href="./insecticides.html">BIO INSECTICIDES</a></p>
                    <p><a href="./fungicides.html">BIO FUNGICIDES</a></p>
                    <p><a href="./nematicides.html">BIO NEMATICIDES</a></p>
                    <p><a href="./viricides.html"> BIO VIRCIDES</a></p>
            </div>
            <div  class="quick" >
                <h2>CONTACT US</h2>
                <div class="rboomi">
                    <h3>EMAIL</h3>
               <p> rboomibalan459@gmail.com</p>
                </div>
               <div class="rboomi">
                <h3>PHONE</h3>
                <p>+919629223356</p>
               </div>
               <div class="rboomi">
                <h3>ADDRESS</h3>
                <p> 1/115, Thirumurugan street, Mandumandram Nagar, Tiruchippalli-620021</p>
               </div>
            </div>
        </div>
        <div class="bottom">
            <div class="cont">
                <p>FOLLOW US</p>
            </div>
        <div class="social">
            <a href="https://www.instagram.com/rp0803/?igshid=YmMyMTA2M2Y%3D" > <img src="../../assets/images/instagram.png" alt="instagram"></a>
            <a href="https://www.youtube.com/channel/UCufA2FcZ-8DSsbCog424g_g" ><img src="../../assets/images/youtube.webp" alt="youtube"></a>
            <a href="https://myaccount.google.com/?utm_source=OGB&tab=rk&utm_medium=app"><img src="../../assets/images/mail.jpg" alt="email"></a>
              <a href="https://twitter.com/agrigoi?lang=en"><img src="../../assets/images/twiter.png" alt="twitter"></a>
            <a href="https://www.facebook.com/people/Agriculture/100068310005265/" ><img src="../../assets/images/facebook.png" alt="facebook"></a>
            <a href="#"><img src="../../assets/images/whatsapp.webp" alt="whatsapp"></a>
    
                </div>
            </div>
        </div>
    </footer>
<div class="mobile_footer">
    <div class="mobile_aboutus">
    <a href="./user_interface.html">Home</a>
    <a href="about_us.html"><p>About Us</p></a>
          <p>(+91)9629223356</p>
        
    </div>
     <div class="copyright">
      <p> Copyright © 2021 - 2023 FAB - Designed By </p><span>Boobalan-R</span>
  </div>
  <div class="mobile_social">
    <p>Contact Us</p>
    <div>
    <a href="https://twitter.com/agrigoi?lang=en"><img src="../../assets/images/twiter.png" alt="twitter"></a>
    <a href="https://www.youtube.com/channel/UCufA2FcZ-8DSsbCog424g_g" ><img src="../../assets/images/youtube.webp" alt="youtube"></a>
    <a href="https://www.facebook.com/people/Agriculture/100068310005265/" ><img src="../../assets/images/facebook.png" alt="facebook"></a>
  </div>
  </div>
  </div>
<!-- <script src="../js/menubar.js"></script> -->

<script>

const logedUser = JSON.parse(localStorage.getItem("user_data"));

// -------wishlist product get here -------
const wishListProduct = JSON.parse(localStorage.getItem("wishlisstItem"));
const dhanukaDetails = JSON.parse(localStorage.getItem('dhanuka_details'));
const uplDetails = JSON.parse(localStorage.getItem('upl_details'));
const dowAgroScienceDetails = JSON.parse(localStorage.getItem("dow_agro_science_details"));

const allProducts = dhanukaDetails.concat(uplDetails, dowAgroScienceDetails);

const findLogedUserWishlist = wishListProduct.filter(details => details.userUniqueId == logedUser)

const wishProducts = allProducts.filter(product => findLogedUserWishlist.some(uuid => uuid.product_id === product.product_unique_id));


for(i=0; i<wishProducts.length; i++){

     div_fertilizer = document.createElement("div");
    div_fertilizer.setAttribute("class", "fertilizer");
    document.querySelector("div.wishlist").append(div_fertilizer);
        // console.log(div_fetilizer);

    //  <div  class="fert1">
    div_fert1 = document.createElement("div");
    div_fert1.setAttribute("class", "fert1");
    div_fertilizer.appendChild(div_fert1);

  
    fert_a = document.createElement("a");
    fert_a.setAttribute("href", "");
    div_fert1.append(fert_a);

    image = document.createElement("img");
    image.setAttribute("src", wishProducts[i]["source"]);
    fert_a.append(image);

     //  <div  class="fert2">
        div_fert2 = document.createElement("div");
    div_fert2.setAttribute("class", "fert2");
    div_fertilizer.appendChild(div_fert2);
    
    div_product_details = document.createElement("div");
    div_product_details.setAttribute("class", "product_details");
    div_fert2.append(div_product_details);
    

    fert2_a = document.createElement("a");
    fert2_a.setAttribute("href", "");
    div_product_details.append(fert2_a);

    fert2_p = document.createElement("p");
    fert2_p.innerText = wishProducts[i]["product_name"];
    fert2_a.append(fert2_p);

    // <div class="pro_price">
    //                     <h2>---</h2>
    //                     <h3>....</h3>
    //                 </div>
    div_pro_price = document.createElement("div");
    div_pro_price.setAttribute("class","pro_price");
    div_product_details.append(div_pro_price);

    div_pro_price_h2 = document.createElement("h2");
   let discount = wishProducts[i]["discount"]
    let actual_price = wishProducts[i]["actual_price"];
    curre_price = actual_price-discount
    div_pro_price_h2.innerText = "₹" + curre_price;
    div_pro_price.append(div_pro_price_h2);

    div_pro_price_h3 = document.createElement("h3");
    div_pro_price_h3.innerText = "₹" + actual_price;
    div_pro_price.append(div_pro_price_h3);

    // <div class="you_save">
    div_pro_save = document.createElement("div");
    div_pro_save.setAttribute("class","you_save");
    div_product_details.append(div_pro_save);

    div_discount = document.createElement("h2");
    div_discount.innerText= "You Save:" +" " + "₹" +discount;
    div_pro_save.appendChild(div_discount);


    fert2_button = document.createElement("button");
    fert2_button.setAttribute("class","remov");
    fert2_button.setAttribute("id","remove_wishlist");
    fert2_button.setAttribute("data-product-id",wishProducts[i]["product_unique_id"] );
    fert2_button.innerText = "Remove";
    div_fert2.append(fert2_button)


     }

     document.querySelector("#remove_wishlist").addEventListener("click", 
     function removeWishList(event){
  const productId = this.dataset.productId;
  this.setAttribute("like", "false");
  const updatedWishlist = wishListProduct.filter(product => product.product_id !== productId);
  localStorage.setItem("wishlisstItem", JSON.stringify(updatedWishlist));
  this.style.color = "rgb(198, 198, 198)";
  location.reload();
});

let emptyWishList = document.getElementById("empty-wishlist");
let shownProducts = document.querySelector(".wishlist");


if(wishListProduct.length == 0){
    emptyWishList.style.display="block";
    shownProducts.style.display="none";
    
}
else{
    emptyWishList.style.display="none";
    shownProducts.style.display="block";
}

</script>
<script src="../js/header.js"></script>
    </body>
    </html>
    